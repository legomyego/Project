# üõ† –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

## üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–í–∞–∂–Ω–æ:** –í—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.credentials`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`.

- **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞–Ω–Ω—ã–µ:** `cat .credentials`
- **–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** —Å–æ–∑–¥–∞–π –∞–¥–º–∏–Ω–∞ –∫–æ–º–∞–Ω–¥–æ–π `./create-admin.sh`

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### `npm run dev` ‚Äî –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
–ó–∞–ø—É—Å–∫–∞–µ—Ç API, Nuxt app –∏ React admin –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ü–≤–µ—Ç–Ω—ã–º –≤—ã–≤–æ–¥–æ–º.

```bash
npm run dev
```

### `./restart-dev.sh` ‚Äî –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–æ—Ä—Ç—ã –∏ –≥–æ—Ç–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º—É –∫ —á–∏—Å—Ç–æ–º—É –∑–∞–ø—É—Å–∫—É.

```bash
./restart-dev.sh
npm run dev
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (launchSettings.json, nuxt.config.ts)
- –ö–æ–≥–¥–∞ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã —Å—Ç–∞—Ä—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –ü—Ä–∏ —Å—Ç—Ä–∞–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### `./create-admin.sh` ‚Äî –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –µ–º—É –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

```bash
# –° –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (myadmin@recipes.local / myadmin / admin123)
./create-admin.sh

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
./create-admin.sh admin@example.com myusername mypassword
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

### `./reset-users.sh` ‚Äî –û—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
**‚ö†Ô∏è –û–ü–ê–°–ù–û!** –£–¥–∞–ª—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–Ω–æ–≤–æ —Å –æ–¥–Ω–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

```bash
# –° –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
./reset-users.sh

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
./reset-users.sh admin@example.com myusername mypassword
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
2. –£–¥–∞–ª—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`dotnet ef database drop`)
3. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é (`dotnet ef database update`)
4. –°–æ–∑–¥–∞–µ—Ç –æ–¥–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–º—É—Å–æ—Ä–∏–ª–∏ –±–∞–∑—É
- –ù—É–∂–Ω–∞ —Å–≤–µ–∂–∞—è –±–∞–∑–∞ –¥–ª—è –¥–µ–º–æ

---

## –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã

### `./setup-local-domain.sh` ‚Äî –ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –¥–æ–º–µ–Ω—ã –≤–º–µ—Å—Ç–æ –ø–æ—Ä—Ç–æ–≤.

```bash
./setup-local-domain.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç nginx (—á–µ—Ä–µ–∑ Homebrew –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
2. –ö–æ–ø–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥ nginx
3. –û–±–Ω–æ–≤–ª—è–µ—Ç /etc/hosts
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç nginx

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- http://recipes.local ‚Üí Main App
- http://admin.recipes.local ‚Üí Admin Panel
- http://api.recipes.local ‚Üí API

**–û—Ç–º–µ–Ω–∞:**
```bash
brew services stop nginx
sudo rm /usr/local/etc/nginx/servers/recipes.conf
# –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –∏–∑ /etc/hosts –≤—Ä—É—á–Ω—É—é
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# API
curl http://localhost:5010/api/health

# Nuxt
curl http://localhost:3000

# Admin
curl http://localhost:5173
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```bash
# –ö—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 3000
lsof -ti:3000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
lsof -ti:3000 | xargs kill -9
```

### –õ–æ–≥–∏ nginx
```bash
tail -f /usr/local/var/log/nginx/error.log
tail -f /usr/local/var/log/nginx/access.log
```

### –û—á–∏—Å—Ç–∫–∞ DNS –∫–µ—à–∞ (macOS)
```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
npm run dev

# 2. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
open http://recipes.local
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./restart-dev.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm run dev
```

### –ß–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç —Å –Ω—É–ª—è
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
./restart-dev.sh

# 2. –°–±—Ä–æ—Å–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
./reset-users.sh

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
npm run dev

# 4. –ó–∞–π—Ç–∏ –ø–æ–¥ –∞–¥–º–∏–Ω–æ–º
# Email: myadmin@recipes.local
# Password: admin123
```

### –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–≥–æ –∞–¥–º–∏–Ω–∞
```bash
./create-admin.sh admin2@recipes.local admin2 password123
```

---

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### "502 Bad Gateway" –≤ nginx
**–ü—Ä–æ–±–ª–µ–º–∞:** Dev —Å–µ—Ä–≤–µ—Ä—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:** `npm run dev`

### "Cannot connect to recipes.local"
**–ü—Ä–æ–±–ª–µ–º–∞:** nginx –Ω–µ –∑–∞–ø—É—â–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** `brew services start nginx`

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–Ω—è–ª–∏ –ø–æ—Ä—Ç—ã
**–†–µ—à–µ–Ω–∏–µ:** `./restart-dev.sh && npm run dev`

### Database connection error
**–ü—Ä–æ–±–ª–µ–º–∞:** PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –±–∞–∑–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:**
```bash
brew services start postgresql@16
cd backend/RecipesApi
dotnet ef database update
```
